"use strict";

module.exports = {
  async up(queryInterface, Sequelize) {
    // Sample stock data
    const stocks = [
      {
        bse_code: "532540",
        nse_code: "TCS",
        stock_name: "Tata Consultancy Services Limited",
        industry: "Information Technology",
        current_price: 3542.5,
        day_change: 45.2,
        day_change_percent: 1.29,
        volume: 1250000,
        market_cap: 12850000000000,
        pe: 28.5,
        pb: 12.8,
        is_active: true,
        last_updated: new Date(),
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        bse_code: "500209",
        nse_code: "INFY",
        stock_name: "Infosys Limited",
        industry: "Information Technology",
        current_price: 1456.75,
        day_change: -12.3,
        day_change_percent: -0.84,
        volume: 3450000,
        market_cap: 6150000000000,
        pe: 25.2,
        pb: 8.9,
        is_active: true,
        last_updated: new Date(),
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        bse_code: "500312",
        nse_code: "ONGC",
        stock_name: "Oil and Natural Gas Corporation Limited",
        industry: "Oil & Gas",
        current_price: 289.45,
        day_change: 8.75,
        day_change_percent: 3.12,
        volume: 15600000,
        market_cap: 3650000000000,
        pe: 12.4,
        pb: 1.2,
        is_active: true,
        last_updated: new Date(),
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        bse_code: "500325",
        nse_code: "RELIANCE",
        stock_name: "Reliance Industries Limited",
        industry: "Oil & Gas",
        current_price: 2485.6,
        day_change: 32.15,
        day_change_percent: 1.31,
        volume: 8900000,
        market_cap: 16800000000000,
        pe: 24.7,
        pb: 2.8,
        is_active: true,
        last_updated: new Date(),
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        bse_code: "500696",
        nse_code: "HINDUNILVR",
        stock_name: "Hindustan Unilever Limited",
        industry: "FMCG",
        current_price: 2654.3,
        day_change: -18.45,
        day_change_percent: -0.69,
        volume: 1120000,
        market_cap: 6250000000000,
        pe: 58.3,
        pb: 13.2,
        is_active: true,
        last_updated: new Date(),
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        bse_code: "500180",
        nse_code: "HCLTECH",
        stock_name: "HCL Technologies Limited",
        industry: "Information Technology",
        current_price: 1165.8,
        day_change: 22.4,
        day_change_percent: 1.96,
        volume: 2340000,
        market_cap: 3150000000000,
        pe: 18.9,
        pb: 4.2,
        is_active: true,
        last_updated: new Date(),
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        bse_code: "532215",
        nse_code: "AXISBANK",
        stock_name: "Axis Bank Limited",
        industry: "Banking",
        current_price: 1098.75,
        day_change: -5.25,
        day_change_percent: -0.48,
        volume: 4560000,
        market_cap: 3380000000000,
        pe: 13.8,
        pb: 1.8,
        is_active: true,
        last_updated: new Date(),
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        bse_code: "500034",
        nse_code: "BAJFINANCE",
        stock_name: "Bajaj Finance Limited",
        industry: "Financial Services",
        current_price: 6845.2,
        day_change: 125.8,
        day_change_percent: 1.87,
        volume: 890000,
        market_cap: 4230000000000,
        pe: 28.4,
        pb: 4.9,
        is_active: true,
        last_updated: new Date(),
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        bse_code: "500112",
        nse_code: "SBIN",
        stock_name: "State Bank of India",
        industry: "Banking",
        current_price: 568.9,
        day_change: 12.35,
        day_change_percent: 2.22,
        volume: 12340000,
        market_cap: 5070000000000,
        pe: 9.8,
        pb: 1.1,
        is_active: true,
        last_updated: new Date(),
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        bse_code: "500820",
        nse_code: "ASIANPAINT",
        stock_name: "Asian Paints Limited",
        industry: "Chemicals",
        current_price: 3156.45,
        day_change: -45.3,
        day_change_percent: -1.41,
        volume: 678000,
        market_cap: 3020000000000,
        pe: 42.1,
        pb: 8.7,
        is_active: true,
        last_updated: new Date(),
        createdAt: new Date(),
        updatedAt: new Date(),
      },
    ];

    await queryInterface.bulkInsert("Stocks", stocks, {});

    // Sample screeners
    const screeners = [
      {
        scan_name: "Breakout Stocks",
        description:
          "Stocks breaking out of their resistance levels with high volume",
        source_name: "ChartInk",
        source_url: "https://chartink.com/screener/breakout-stocks",
        is_active: true,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        scan_name: "High Volume Gainers",
        description:
          "Stocks with significant price gains and above-average volume",
        source_name: "ChartInk",
        source_url: "https://chartink.com/screener/high-volume-gainers",
        is_active: true,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
      {
        scan_name: "Value Picks",
        description: "Undervalued stocks with good fundamentals",
        source_name: "Screener.in",
        source_url: "https://www.screener.in/screens/value-picks",
        is_active: true,
        createdAt: new Date(),
        updatedAt: new Date(),
      },
    ];

    await queryInterface.bulkInsert("Screeners", screeners, {});

    console.log("Sample stock and screener data inserted successfully");
  },

  async down(queryInterface, Sequelize) {
    await queryInterface.bulkDelete("StockScreenerResults", null, {});
    await queryInterface.bulkDelete("Screeners", null, {});
    await queryInterface.bulkDelete("Stocks", null, {});
  },
};
